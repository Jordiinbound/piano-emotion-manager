{
  "query": "CREATE TABLE IF NOT EXISTS workflows (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(200) NOT NULL,\n  description TEXT,\n  trigger_type VARCHAR(100) NOT NULL,\n  trigger_config JSON,\n  status ENUM('active', 'inactive') NOT NULL DEFAULT 'inactive',\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_workflow_status (status),\n  INDEX idx_workflow_trigger (trigger_type)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_nodes (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflow_id INT NOT NULL,\n  node_type ENUM('trigger', 'condition', 'action', 'delay') NOT NULL,\n  node_config JSON NOT NULL,\n  position_x INT NOT NULL DEFAULT 0,\n  position_y INT NOT NULL DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (workflow_id) REFERENCES workflows(id) ON DELETE CASCADE,\n  INDEX idx_workflow_node (workflow_id),\n  INDEX idx_node_type (node_type)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_connections (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflow_id INT NOT NULL,\n  source_node_id INT NOT NULL,\n  target_node_id INT NOT NULL,\n  connection_type VARCHAR(50) DEFAULT 'default',\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (workflow_id) REFERENCES workflows(id) ON DELETE CASCADE,\n  FOREIGN KEY (source_node_id) REFERENCES workflow_nodes(id) ON DELETE CASCADE,\n  FOREIGN KEY (target_node_id) REFERENCES workflow_nodes(id) ON DELETE CASCADE,\n  INDEX idx_workflow_connection (workflow_id),\n  INDEX idx_source_node (source_node_id),\n  INDEX idx_target_node (target_node_id)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_executions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflow_id INT NOT NULL,\n  status ENUM('pending', 'running', 'completed', 'failed') NOT NULL DEFAULT 'pending',\n  trigger_data JSON,\n  execution_log JSON,\n  error_message TEXT,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (workflow_id) REFERENCES workflows(id) ON DELETE CASCADE,\n  INDEX idx_workflow_execution (workflow_id),\n  INDEX idx_execution_status (status),\n  INDEX idx_execution_started (started_at)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2ghn282qNtTBYRw.2c60fb684332 --database U7erxBowPGSR3wjYQtQi9z --execute CREATE TABLE IF NOT EXISTS workflows (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(200) NOT NULL,\n  description TEXT,\n  trigger_type VARCHAR(100) NOT NULL,\n  trigger_config JSON,\n  status ENUM('active', 'inactive') NOT NULL DEFAULT 'inactive',\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  INDEX idx_workflow_status (status),\n  INDEX idx_workflow_trigger (trigger_type)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_nodes (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflow_id INT NOT NULL,\n  node_type ENUM('trigger', 'condition', 'action', 'delay') NOT NULL,\n  node_config JSON NOT NULL,\n  position_x INT NOT NULL DEFAULT 0,\n  position_y INT NOT NULL DEFAULT 0,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (workflow_id) REFERENCES workflows(id) ON DELETE CASCADE,\n  INDEX idx_workflow_node (workflow_id),\n  INDEX idx_node_type (node_type)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_connections (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflow_id INT NOT NULL,\n  source_node_id INT NOT NULL,\n  target_node_id INT NOT NULL,\n  connection_type VARCHAR(50) DEFAULT 'default',\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (workflow_id) REFERENCES workflows(id) ON DELETE CASCADE,\n  FOREIGN KEY (source_node_id) REFERENCES workflow_nodes(id) ON DELETE CASCADE,\n  FOREIGN KEY (target_node_id) REFERENCES workflow_nodes(id) ON DELETE CASCADE,\n  INDEX idx_workflow_connection (workflow_id),\n  INDEX idx_source_node (source_node_id),\n  INDEX idx_target_node (target_node_id)\n);\n\nCREATE TABLE IF NOT EXISTS workflow_executions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  workflow_id INT NOT NULL,\n  status ENUM('pending', 'running', 'completed', 'failed') NOT NULL DEFAULT 'pending',\n  trigger_data JSON,\n  execution_log JSON,\n  error_message TEXT,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  FOREIGN KEY (workflow_id) REFERENCES workflows(id) ON DELETE CASCADE,\n  INDEX idx_workflow_execution (workflow_id),\n  INDEX idx_execution_status (status),\n  INDEX idx_execution_started (started_at)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 2526
}