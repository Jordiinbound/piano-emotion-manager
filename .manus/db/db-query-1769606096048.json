{
  "query": "\nCREATE TABLE IF NOT EXISTS message_templates (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  partner_id INT,\n  organization_id INT,\n  type VARCHAR(50) NOT NULL,\n  channel VARCHAR(20) DEFAULT 'whatsapp',\n  name VARCHAR(100) NOT NULL,\n  email_subject VARCHAR(200),\n  content TEXT NOT NULL,\n  html_content TEXT,\n  available_variables JSON,\n  is_default TINYINT DEFAULT 0,\n  is_active TINYINT DEFAULT 1,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  created_by INT\n);\n\nCREATE TABLE IF NOT EXISTS marketing_campaigns (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  partner_id INT,\n  organization_id INT,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  template_id INT NOT NULL,\n  status VARCHAR(20) DEFAULT 'draft',\n  recipient_filters JSON,\n  total_recipients INT DEFAULT 0,\n  sent_count INT DEFAULT 0,\n  delivered_count INT DEFAULT 0,\n  failed_count INT DEFAULT 0,\n  scheduled_at TIMESTAMP NULL,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  created_by INT\n);\n\nCREATE TABLE IF NOT EXISTS campaign_recipients (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  campaign_id INT NOT NULL,\n  client_id INT NOT NULL,\n  generated_message TEXT,\n  status VARCHAR(20) DEFAULT 'pending',\n  sent_at TIMESTAMP NULL,\n  delivered_at TIMESTAMP NULL,\n  sent_by INT,\n  notes TEXT,\n  error_message TEXT,\n  queue_order INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS message_history (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  partner_id INT,\n  organization_id INT,\n  campaign_id INT,\n  template_id INT,\n  client_id INT NOT NULL,\n  message_type VARCHAR(50) NOT NULL,\n  content TEXT NOT NULL,\n  channel VARCHAR(20) DEFAULT 'whatsapp',\n  recipient_phone VARCHAR(20),\n  recipient_email VARCHAR(255),\n  status VARCHAR(20) DEFAULT 'sent',\n  sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  delivered_at TIMESTAMP NULL,\n  read_at TIMESTAMP NULL,\n  sent_by INT\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 2ghn282qNtTBYRw.2c60fb684332 --database U7erxBowPGSR3wjYQtQi9z --execute \nCREATE TABLE IF NOT EXISTS message_templates (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  partner_id INT,\n  organization_id INT,\n  type VARCHAR(50) NOT NULL,\n  channel VARCHAR(20) DEFAULT 'whatsapp',\n  name VARCHAR(100) NOT NULL,\n  email_subject VARCHAR(200),\n  content TEXT NOT NULL,\n  html_content TEXT,\n  available_variables JSON,\n  is_default TINYINT DEFAULT 0,\n  is_active TINYINT DEFAULT 1,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  created_by INT\n);\n\nCREATE TABLE IF NOT EXISTS marketing_campaigns (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  partner_id INT,\n  organization_id INT,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  template_id INT NOT NULL,\n  status VARCHAR(20) DEFAULT 'draft',\n  recipient_filters JSON,\n  total_recipients INT DEFAULT 0,\n  sent_count INT DEFAULT 0,\n  delivered_count INT DEFAULT 0,\n  failed_count INT DEFAULT 0,\n  scheduled_at TIMESTAMP NULL,\n  started_at TIMESTAMP NULL,\n  completed_at TIMESTAMP NULL,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  created_by INT\n);\n\nCREATE TABLE IF NOT EXISTS campaign_recipients (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  campaign_id INT NOT NULL,\n  client_id INT NOT NULL,\n  generated_message TEXT,\n  status VARCHAR(20) DEFAULT 'pending',\n  sent_at TIMESTAMP NULL,\n  delivered_at TIMESTAMP NULL,\n  sent_by INT,\n  notes TEXT,\n  error_message TEXT,\n  queue_order INT,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS message_history (\n  id INT PRIMARY KEY AUTO_INCREMENT,\n  partner_id INT,\n  organization_id INT,\n  campaign_id INT,\n  template_id INT,\n  client_id INT NOT NULL,\n  message_type VARCHAR(50) NOT NULL,\n  content TEXT NOT NULL,\n  channel VARCHAR(20) DEFAULT 'whatsapp',\n  recipient_phone VARCHAR(20),\n  recipient_email VARCHAR(255),\n  status VARCHAR(20) DEFAULT 'sent',\n  sent_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n  delivered_at TIMESTAMP NULL,\n  read_at TIMESTAMP NULL,\n  sent_by INT\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 1033
}